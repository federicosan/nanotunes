(function(){function c(a,b,d){this.a=new AudioContext;this.j=new Map(b);this.h=d/60}var f=/^([A-Z]{3})/,g=/([A-GX]#?)([1-8])([1-9]{1,2})/g,h=new Map([["C",16.35],["C#",17.32],["D",18.35],["D#",19.45],["E",20.6],["F",21.83],["F#",23.12],["G",24.5],["G#",25.96],["A",27.5],["A#",29.14],["B",30.87],["X",0]]);c.prototype.play=function(a){a=this.j.get(a);a=this.f(a);this.b(a)};c.prototype.f=function(a){a.match(f);for(var b=[],d;d=g.exec(a);)b.push({length:d[3],i:this.c(d[1],d[2])});return b};c.prototype.c=
function(a,b){return h.get(a)*Math.pow(1.059463094359,12*b)};c.prototype.b=function(a){var b=this;a.reduce(function(a,e){return a.then(function(){return b.g(e)})},Promise.resolve()).then(function(){return b.b(a)})};c.prototype.g=function(a){var b=this;return new Promise(function(d){var e=b.a.createOscillator(),c=b.a.createGain();e.type="square";e.frequency.value=a.i;c.gain.value=.3;e.connect(c);c.connect(b.a.destination);e.addEventListener("ended",d);e.start(0);e.stop(b.a.currentTime+a.length/b.h/
4)})};this.TM=c})(this);
