(function(){function c(a,b){this.a=new AudioContext;this.s=a;this.u=b}var f=/^([A-Z]{3})/,g=/([A-GX]#?)([1-8])([1-9]{1,2})/g,h=new Map([["C",16.35],["C#",17.32],["D",18.35],["D#",19.45],["E",20.6],["F",21.83],["F#",23.12],["G",24.5],["G#",25.96],["A",27.5],["A#",29.14],["B",30.87],["X",0]]);c.prototype.play=function(a){a=this.u[a];for(var b=0;b<a.parts.length;b++){var d=this.s[this.m(a.parts[b])],e=this.l(a.parts[b],a.bpm),d=this.i(d);this.c(d,e)}};c.prototype.m=function(a){return a.match(f)[1]};
c.prototype.l=function(a,b){for(var d=[],e;e=g.exec(a);)d.push({length:this.j(e[3],b),o:this.h(e[1],e[2])});return d};c.prototype.j=function(a,b){return parseInt(a)/(b/60)/4};c.prototype.h=function(a,b){return h.get(a)*Math.pow(1.059463094359,12*b)};c.prototype.i=function(a){var b=this.a.createOscillator();b.type=a.wave;b.frequency.value=0;var d=this.f(b,a.gain),d=this.g(d,a.pan);d.connect(this.a.destination);b.start();return b};c.prototype.c=function(a,b){var d=this,e=this.a.currentTime;a.addEventListener("ended",
function(){return d.c(a,b)});for(var c=0;c<b.length;c++){var f=b[c];a.frequency.setValueAtTime(b[c].o,e);e+=f.length;c===b.length-1&&a.stop(e)}};c.prototype.f=function(a,b){return this.b(a,b,"createGain","gain")};c.prototype.g=function(a,b){return this.b(a,b,"createStereoPanner","pan")};c.prototype.b=function(a,b,d,c){if(!b)return a;d=this.a[d]();d[c].value=b;a.connect(d);return d};this.TM=c})(this);
